if (self.CavalryLogger) { CavalryLogger.start_js(["lkdB+"]); }

__d("NotificationJewelReminderDialog.react",["cx","fbt","invariant","Arbiter","Image.react","ImageBlock.react","LayerFadeOnHide","LayerFadeOnShow","React","SubscriptionsHandler","TimeSlice","XUIContextualDialog.react","clearTimeout","intlList","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=new(b("SubscriptionsHandler"))(),this.state={shown:!0},this.$3=function(){b("clearTimeout")(this.$1)}.bind(this),this.$4=function(a){this.$5(),this.props.onClick&&this.props.onClick(a)}.bind(this),this.$6=function(){this.$3()}.bind(this),this.$7=function(){this.$5()}.bind(this),this.$5=function(){this.setState({shown:!1},function(){this.props.onHide&&this.props.onHide()}.bind(this))}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){this.$1=b("setTimeoutAcrossTransitions")(this.$5,this.props.showTime),this.$2.addSubscriptions(b("Arbiter").subscribe("layer_shown",function(a,c){c&&c.type==="Jewel"&&b("TimeSlice").guard(this.$5,"JewelOpen Notification reminder",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}.bind(this)),{remove:this.$3})};a.prototype.componentWillUnmount=function(){this.$3(),this.$2.release()};a.prototype.$8=function(){__p&&__p();var a=this.props.names.map(function(a){return b("React").createElement("strong",null,a)});switch(this.props.jewelType){case"notification":return h._({"*":"New notifications from {list of notification senders}","_1":"New notification from {list of notification senders}"},[h._plural(this.props.reminderCount),h._param("list of notification senders",b("intlList")(a))]);case"request":var c=this.props.reminderCount-a.length;if(c>0){if(a.length===0)return h._({"*":"{number of friend requests} friend requests","_1":"1 friend request"},[h._plural(this.props.reminderCount,"number of friend requests")]);else if(a.length===1)return h._({"*":{"*":"{number of friend requests} friend requests from {name of person} and {number of unnamed people} others","_1":"{number of friend requests} friend requests from {name of person} and 1 other"},"_1":{"*":"1 friend request from {name of person} and {number of unnamed people} others","_1":"1 friend request from {name of person} and 1 other"}},[h._plural(this.props.reminderCount,"number of friend requests"),h._param("name of person",a[0]),h._plural(c,"number of unnamed people")]);else if(a.length>=2)return h._({"*":{"*":"{number of friend requests} friend requests from {name of first person}, {name of second person} and {number of unnamed people} others","_1":"{number of friend requests} friend requests from {name of first person}, {name of second person} and 1 other"},"_1":{"*":"1 friend request from {name of first person}, {name of second person} and {number of unnamed people} others","_1":"1 friend request from {name of first person}, {name of second person} and 1 other"}},[h._plural(this.props.reminderCount,"number of friend requests"),h._param("name of first person",a[0]),h._param("name of second person",a[1]),h._plural(c,"number of unnamed people")])}else return h._({"*":"{number of friend requests} friend requests from {list of friend request senders}","_1":"1 friend request from {list of friend request senders}"},[h._plural(this.props.reminderCount,"number of friend requests"),h._param("list of friend request senders",b("intlList")(a))]);default:i(0)}};a.prototype.render=function(){var a=this.props.jewelType==="request"?h._({"*":"New friend requests","_1":"New friend request"},[h._plural(this.props.reminderCount)]):h._({"*":"New notifications","_1":"New notification"},[h._plural(this.props.reminderCount)]);return b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",autoFocus:!1,behaviors:{LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide")},context:this.props.context,dialogRole:"alert",focusContextOnHide:!1,label:a,offsetY:-10,position:"below",shown:this.state.shown,width:210},b("React").createElement("div",{className:"_5bov",onClick:this.$4,onMouseEnter:this.$6,onMouseLeave:this.$7,role:"presentation"},b("React").createElement(b("ImageBlock.react"),null,b("React").createElement(b("Image.react"),{className:"_5bow",src:this.props.photoURI}),b("React").createElement("div",null,this.$8()))))};e.exports=a}),null);
__d("NotificationJewelReminder",["DOMQuery","NotificationJewelReminderDialog.react","React","ReactDOM","Toggler","ifRequired","ge"],(function(a,b,c,d,e,f){__p&&__p();var g="fbNotificationsJewel",h="fbRequestsJewel";function i(a,c,d,e,f,i){var j=b("ge")(e);if(j==null||b("Toggler").getInstance(b("ge")(g)).isShown()||b("Toggler").getInstance(b("ge")(h)).isShown()){i&&i();return}b("ReactDOM").render(b("React").createElement(b("NotificationJewelReminderDialog.react"),{context:b("DOMQuery").scry(j,".jewelButton")[0],jewelType:e===g?"notification":"request",names:c,onClick:function(){b("Toggler").show(j)},onHide:i,photoURI:a,reminderCount:d,showTime:f}),document.createElement("div"))}function j(a,b){i(a.friendRequestData.pics[0],a.friendRequestData.names,a.friendRequestData.count,h,a.showTimeMs,b)}function k(a){i(a.notificationData.photoURI,a.notificationData.names,a.notificationData.names.length,g,a.showTimeMs)}a={init:function(a){a.friendRequestData?j(a,function(){a.notificationData&&k(a)}):a.notificationData&&k(a)}};e.exports=a}),null);